<form [formGroup]="form" (ngSubmit)="onSubmit()">
  @for (field of formFields(); track $index) {
  <div>
    <label [for]="field.name">{{ field.label }}</label>
    @switch (field.type) {
      @case ('select') {
        <select [formControlName]="field.name">
          <option *ngFor="let option of field.options" [value]="option.value">
            {{ option.label }}
          </option>
        </select>
      }
      @default {
        <input
          [type]="field.type"
          [id]="field.name"
          [formControlName]="field.name"/>
      }
    }
    @if (form.get(field.name)?.invalid && form.get(field.name)?.touched) {
    <p>
      {{ getErrorMessage(field.name) }}
    </p>
    }
  </div>
  }
  <app-button
    [isDisabled]="form.invalid"
    (onClick)="onSubmit()"
    type="submit">
    Submit
  </app-button>
</form>
